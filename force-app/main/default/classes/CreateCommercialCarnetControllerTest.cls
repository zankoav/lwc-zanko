/**
 * Created by marekhaken on 2019-02-02.
 */

@IsTest
private class CreateCommercialCarnetControllerTest {
    @testSetup
    static void setup() {

    }
    @IsTest
    static void testing() {
        Account a = new Account(
                Name = 'test',
                BillingCountry = 'Germany',
                BillingCity = 'BERG',
                BillingStreet = 'LUDWIGSTRASSE 69');
        insert a;

        Account account = new Account(
                Name = 'INTERCODEC4',
                Type = 'Customer',
                RecordTypeId = '012200000006oIF',
                BillingStreet = 'TESTOVACI 1',
                BillingCity = 'WARSAW',
                BillingState = 'Lower Silesia',
                BillingPostalCode = '12345',
                BillingCountry = 'Poland',
                BillingStateCode = 'DS',
                BillingCountryCode = 'PL',
                ShippingStreet = 'TESTOVACI 2',
                ShippingCity = 'LODZ',
                ShippingState = 'Kuyavia-Pomerania',
                ShippingPostalCode = '12345',
                ShippingCountry = 'Poland',
                ShippingStateCode = 'KP',
                ShippingCountryCode = 'PL',
                Phone = '+420123456789',
                CurrencyIsoCode = 'PLN',
                OwnerId = '00520000005vUunAAE',
                IsExcludedFromRealign = false,
                CleanStatus = 'Pending',
                AccountSource = 'ABVP',
                Gesellschaftsform__c = 'Agency of an Overseas Business',
                GFN_Nr__c = '1',
                Karte_zusenden__c = false,
                Pin_vergessen__c = false,
                CardProcessing_abgeschlossen__c = false,
                Einwilligung_Lastschriftverfahren__c = false,
                Beschaeftigte__c = '1-4',
                Daten_fehlerhaft__c = false,
                AGB_Best_tigt__c = 'Ja',
                Disclosure_Group_FO_Account_SILVER__c = 'FCCI0249',
                Disclosure_Group_FO_Account_PLUS__c = 'FCCI0348',
                Disclosure_Group_FO_Account_GOLD__c = 'FCCI0398',
                Alternate_Disclosure_Group_SILVER__c = 'FCCI0000',
                Alternate_Disclosure_Group_PLUS__c = 'FCCI0099',
                Alternate_Disclosure_Group_GOLD__c = 'FCCI0149',
                Tage_Alternate_Disclosure_Group_SILVER__c = '0',
                Tage_Alternate_Disclosure_Group_PLUS__c = '0',
                Tage_Alternate_Disclosure_Group_GOLD__c = '0',
                Retailer_Status__c = 'aktiv',
                Subaccount__c = false,
                No_Card_fee__c = '0',
                Steuernummer__c = '98765432111',
                E2E__c = false,
                Kartentyp__c = 'FlexKarte',
                Antrag_generieren__c = false,
                Sec_Channel_Acc__c = 'Outbound',
                Aware_of_NoFee_Offer_conditions__c = false,
                Aware_of_retailer_bonus_program__c = false,
                Have_objections__c = false,
                Vouchers_Sent__c = 0.0,
                CCS_Account_Record_Type__c = 'Endkunde',
                Portal_Schreibschutz__c = false,
                Lead_ID__c = '00Q1q000002XisHEAS',
                Lead_Record_Type__c = 'Endkunde',
                Cold_Lead__c = false,
                Id_Owner_Lead__c = '00520000005vUunAAE',
                Consent_Form_Datatransfer__c = false,
                Active_Change_Owner_Request__c = false,
                Interested_in_cooperation__c = false,
                Agree_to_process_pers_data_for_marketing__c = false,
                Agree_to_receive_comm_info_by_email__c = false,
                Agree_to_telephone_contact__c = false,
                Customer_s_Search_Request__c = 'Общий',
                CCS_account_merge_status__c = false,
                Not_Interessted_Brand_Fleetcor__c = false,
                Positiv_Brand_Fleetcor__c = false,
                Discount_too_low__c = false,
                Fees_too_high__c = false,
                Offer_sounds_interessting__c = false,
                Offer_and_Advantages_explained__c = false,
                Know_the_Retailerportal__c = false,
                E2E_Voucher_sent__c = false);
        insert account;

        Contact c = new Contact(
                Salutation = 'Herr',
                LastName = 'test',
                AccountId = a.Id,
                Email = 'test@test.com');
        insert c;

        Opportunity o = new Opportunity(
                Name = 'test',
                Product__c = 'Carnet Standard 2019',
                AccountId = a.id,
                Primary_Contact__c = c.Id,
                CloseDate = Date.today(),
                StageName = 'Qualify',
                Type = 'New GFN',
                Form_of_Payment__c = 'Bank Transfer - after delivery',
                Monthly_Payment_Method__c = 'Bank transfer',
                Number_of_GPS_units__c = 3,
                Pricing_Approval_Status__c = 'Not required');
        insert o;

        OpportunityContactRole ocr = new OpportunityContactRole(
                OpportunityId = o.Id,
                ContactId = c.Id,
                IsPrimary = true
        );
        insert ocr;


        Pricebook2 pricebook2 = new Pricebook2(
                Name = 'Carnet Unit 2019',
                CurrencyIsoCode = 'PLN',
                RecordTypeId = '0120O000000XMWb',
                IsActive = true,
                Description = 'Prices for 2019.',
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 0.0,
                Installation__c = 199.0,
                Standard_24__c = 39.0,
                Standard_36__c = 29.0,
                EU_24__c = 44.0,
                EU_36__c = 34.0,
                Driving_Style__c = 1.0,
                Reservations__c = 2.0,
                Archiving__c = 25,
                On_line_position_above_standard__c = 1.0,
                Tariff_World__c = 17.0,
                Web_services__c = 1.0,
                Service_Alarm__c = 1.0,
                Guarding_the_vehicle_one_switch__c = 4.0,
                Guarding_the_vehicle_reader__c = 250.0,
                Button_Panic__c = 10.0,
                Guarding_cargo_space__c = 515.0,
                Reader_Dalas__c = 35.0,
                Reader_RFID_Slim__c = 259.0,
                Reader_Inditag__c = 899.0,
                Reader_Mifare__c = 599.0,
                Reader_Multi_125__c = 599.0,
                Reader_HIDProx__c = 749.0,
                Reader_Multi_ISO__c = 719.0,
                Reader_Legic__c = 879.0,
                Dalas_chip__c = 13.0,
                RFID_fobs__c = 9.0,
                RFID_adhesive_chip__c = 8.0,
                Piezoelectric_siren__c = 7.0,
                Temperature_measurement_in_the_cargo_spa__c = 295.0,
                Calibrating_transducer_PT100__c = 199.0,
                Temperature_sensor_Pt100B_with_cable_1m__c = 36.0,
                Temperature_sensor_Pt100A_with_cable_1m__c = 39.0,
                Temperature_sensor_Dalas__c = 75.0,
                X1_m_cable_to_the_temperature_sensor__c = 3.0,
                X1_m_silicone_cable_to_the_temp_sensor__c = 5.0,
                Plastic_temperature_sensor_holder__c = 6.0,
                Basic_switch__c = 3.0,
                Adhesive_switch_P_S__c = 23.0,
                Adhesive_switch_P_S_with_a_diode_LED__c = 39.0,
                Cable_CAN__c = 5.0,
                CAN_GO_CLICK__c = 99.0,
                Power_supply_power_cable_harnesses__c = 13.0,
                Antenna_GPS_FLAT__c = 39.0,
                Antenna_GPS_Shark__c = 79.0,
                Spare_battery_for_CN85_1_4__c = 65.0,
                Can_Bus_transducer_MCB_02__c = 165.0,
                Microwave_sensor__c = 279.0,
                Acoustic_signaling_with_LED__c = 17.0,
                Button_Panic2__c = 60.0,
                Siren_Alarm__c = 33.0,
                Standard_Unit_Package_6_15__c = 269.0,
                Standard_Unit_Package_16__c = 259.0,
                Custom__c = false);
        insert pricebook2;



        Account_Price_Book__c account_price_book = new Account_Price_Book__c(Name = 'Carnet Unit 2019',
                CurrencyIsoCode = 'PLN',
                Custom__c = false,
                Approval_Status__c = 'Not required',
                Account__c = a.Id,
                Price_Book__c = pricebook2.Id);
        insert account_price_book;

        Carnet_Unit__c carnet_unit = new Carnet_Unit__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Pricing_Approval_Status__c = 'Not required',
                Number_of_Units__c = 1.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                isEdited__c = false,
                Contract_term__c = '24 months',
                Monitoring_in_EU__c = true,
                Monitoring_in_other_European_countries__c = true,
                Carnet_Tariff__c = 'EU 24',
                Driving_Style__c = true,
                Reservations__c = true,
                Archiving__c = true,
                On_line_position_above_standard__c = true,
                Web_services__c = true,
                Service_Alarm__c = true,
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 0.0,
                Installation__c = 199.0,
                Driving_Style_Price__c = 1.0,
                Reservations_Price__c = 2.0,
                Archiving_Price__c = 1.0,
                On_line_position_above_standard_Price__c = 1.0,
                Tariff_World_Price__c = 17.0,
                Web_services_Price__c = 1.0,
                Service_Alarm_Price__c = 1.0,
                Carnet_Tariff_Price__c = 44.0,
                Standard_Unit_Package3__c = 289.0,
                Standard_Unit_Package_16_c__c = 259.0,
                Standard_Unit_Package_6_15_c__c = 269.0,
                BypassValidationForProcessBuilder__c = false);
        insert carnet_unit;

        Carnet_Unit__c c2 = new Carnet_Unit__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Pricing_Approval_Status__c = 'Not required',
                Number_of_Units__c = 1.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                isEdited__c = false,
                Contract_term__c = '24 months',
                Monitoring_in_EU__c = true,
                Monitoring_in_other_European_countries__c = true,
                Carnet_Tariff__c = 'EU 24',
                Driving_Style__c = true,
                Reservations__c = true,
                Archiving__c = true,
                On_line_position_above_standard__c = true,
                Web_services__c = true,
                Service_Alarm__c = true,
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 0.0,
                Installation__c = 199.0,
                Driving_Style_Price__c = 1.0,
                Reservations_Price__c = 2.0,
                Archiving_Price__c = 1.0,
                On_line_position_above_standard_Price__c = 1.0,
                Tariff_World_Price__c = 17.0,
                Web_services_Price__c = 1.0,
                Service_Alarm_Price__c = 1.0,
                Carnet_Tariff_Price__c = 44.0,
                Standard_Unit_Package3__c = 289.0,
                Standard_Unit_Package_16_c__c = 259.0,
                Standard_Unit_Package_6_15_c__c = 269.0,
                BypassValidationForProcessBuilder__c = false);
        insert c2;

        Carnet_Unit__c c21 = new Carnet_Unit__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Pricing_Approval_Status__c = 'Not required',
                Number_of_Units__c = 1.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                isEdited__c = false,
                Contract_term__c = '24 months',
                Monitoring_in_EU__c = true,
                Monitoring_in_other_European_countries__c = true,
                Carnet_Tariff__c = 'EU 24',
                Driving_Style__c = true,
                Reservations__c = true,
                Archiving__c = true,
                On_line_position_above_standard__c = true,
                Web_services__c = true,
                Service_Alarm__c = true,
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 10.0,
                Installation__c = 1929.0,
                Driving_Style_Price__c = 12.0,
                Reservations_Price__c = 22.0,
                Archiving_Price__c = 12.0,
                On_line_position_above_standard_Price__c = 21.0,
                Tariff_World_Price__c = 127.0,
                Web_services_Price__c = 1.20,
                Service_Alarm_Price__c = 12.0,
                Carnet_Tariff_Price__c = 442.0,
                Standard_Unit_Package3__c = 2289.0,
                Standard_Unit_Package_16_c__c = 2259.0,
                Standard_Unit_Package_6_15_c__c = 2649.0,
                BypassValidationForProcessBuilder__c = false);
        insert c21;

        Additional_Hardware__c additional_hardware = new Additional_Hardware__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Guarding_the_vehicle_one_switch_Price__c = 4.0,
                Guarding_the_vehicle_reader_Price__c = 250.0,
                Button_Panic_Price__c = 10.0,
                Guarding_cargo_space_Price__c = 515.0,
                Reader_Dalas_Price__c = 35.0,
                Reader_RFID_Slim_Price__c = 259.0,
                Reader_Inditag_Price__c = 899.0,
                Reader_Mifare_Price__c = 599.0,
                Reader_Multi_125_Price__c = 599.0,
                Reader_HIDProx_Price__c = 749.0,
                Reader_Multi_ISO_Price__c = 719.0,
                Reader_Legic_Price__c = 879.0,
                Dalas_chip_Price__c = 13.0,
                RFID_fobs_Price__c = 9.0,
                RFID_adhesive_chip_Price__c = 8.0,
                Piezoelectric_siren_Price__c = 7.0,
                Temperature_measurementCargoSpace_Price__c = 295.0,
                Calibrating_transducer_PT100_Price__c = 199.0,
                Temperature_sensor_Pt100B_Price__c = 36.0,
                Temperature_sensor_Pt100A_Price__c = 39.0,
                Temperature_sensor_Dalas_Price__c = 75.0,
                X1_m_cable_to_the_temperature_Price__c = 3.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 5.0,
                Plastic_temperature_sensor_holder_Price__c = 6.0,
                Basic_switch_Price__c = 3.0,
                Adhesive_switch_P_S_Price__c = 23.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 39.0,
                Cable_CAN_Price__c = 5.0,
                CAN_GO_CLICK_Price__c = 99.0,
                Power_supply_power_cable_harnesses_Price__c = 13.0,
                Antenna_GPS_FLAT_Price__c = 39.0,
                Antenna_GPS_Shark_Price__c = 79.0,
                Spare_battery_for_CN85_1_4_Price__c = 65.0,
                Can_Bus_transducer_MCB_02_Price__c = 165.0,
                Microwave_sensor_Price__c = 279.0,
                Acoustic_signaling_with_LED_Price__c = 17.0,
                Button_Panic2_Price__c = 60.0,
                Siren_Alarm_Price__c = 33.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Not required',
                X1_m_cable_to_the_temperature_Amount__c = 17.0,
                X1_m_silicone_cable_temp_sensor_Amount__c = 16.0,
                Acoustic_signaling_with_LED_Amount__c = 3.0,
                Adhesive_switch_P_S_Amount__c = 13.0,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 12.0,
                Antenna_GPS_FLAT_Amount__c = 8.0,
                Antenna_GPS_Shark_Amount__c = 7.0,
                Basic_switch_Amount__c = 14.0,
                Button_Panic_Amount__c = 4.0,
                Button_Panic2_Amount__c = 2.0,
                Cable_CAN_Amount__c = 11.0,
                Calibrating_transducer_PT100_Amount__c = 21.0,
                Can_Bus_transducer_MCB_02_Amount__c = 5.0,
                CAN_GO_CLICK_Amount__c = 10.0,
                Dalas_chip_Amount__c = 26.0,
                Guarding_cargo_space_Amount__c = 35.0,
                Guarding_the_vehicle_one_switch_Amount__c = 10.0,
                Guarding_the_vehicle_reader_Amount__c = 3.0,
                Microwave_sensor_Amount__c = 4.0,
                Piezoelectric_siren_Amount__c = 23.0,
                Plastic_temperature_sensor_holder_Amount__c = 15.0,
                Power_supplyPower_cable_harnesses_Amount__c = 9.0,
                Reader_Dalas_Amount__c = 34.0,
                Reader_HIDProx_Amount__c = 30.0,
                Reader_Inditag_Amount__c = 32.0,
                Reader_Legic_Amount__c = 27.0,
                Reader_Mifare_Amount__c = 31.0,
                Reader_Multi_125_Amount__c = 29.0,
                Reader_Multi_ISO_Amount__c = 28.0,
                Reader_RFID_Slim_Amount__c = 33.0,
                RFID_adhesive_chip_Amount__c = 24.0,
                RFID_fobs_Amount__c = 25.0,
                Siren_Alarm_Amount__c = 1.0,
                Spare_battery_for_CN85_1_4_Amount__c = 6.0,
                Temperature_measurementCargoSpace_Amount__c = 22.0,
                Temperature_sensor_Dalas_Amount__c = 18.0,
                Temperature_sensor_Pt100A_Amount__c = 19.0,
                Temperature_sensor_Pt100B_Amount__c = 20.0);
        insert additional_hardware;

        Additional_Hardware__c asdd = new Additional_Hardware__c(
                Opportunity__c = o.Id,
                CurrencyIsoCode = 'PLN',
                Guarding_the_vehicle_one_switch_Price__c = 41.0,
                Guarding_the_vehicle_reader_Price__c = 1250.0,
                Button_Panic_Price__c = 101.0,
                Guarding_cargo_space_Price__c = 5115.0,
                Reader_Dalas_Price__c = 351.0,
                Reader_RFID_Slim_Price__c = 2591.0,
                Reader_Inditag_Price__c = 8919.0,
                Reader_Mifare_Price__c = 5919.0,
                Reader_Multi_125_Price__c = 5919.0,
                Reader_HIDProx_Price__c = 7149.0,
                Reader_Multi_ISO_Price__c = 7119.0,
                Reader_Legic_Price__c = 87119.0,
                Dalas_chip_Price__c = 113.0,
                RFID_fobs_Price__c = 19.0,
                RFID_adhesive_chip_Price__c = 81.0,
                Piezoelectric_siren_Price__c = 71.0,
                Temperature_measurementCargoSpace_Price__c = 2915.0,
                Calibrating_transducer_PT100_Price__c = 1919.0,
                Temperature_sensor_Pt100B_Price__c = 36141.0,
                Temperature_sensor_Pt100A_Price__c = 3149.0,
                Temperature_sensor_Dalas_Price__c = 7451.0,
                X1_m_cable_to_the_temperature_Price__c = 43.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 54.0,
                Plastic_temperature_sensor_holder_Price__c = 6.40,
                Basic_switch_Price__c = 3.40,
                Adhesive_switch_P_S_Price__c = 243.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 349.0,
                Cable_CAN_Price__c = 54.0,
                CAN_GO_CLICK_Price__c = 949.0,
                Power_supply_power_cable_harnesses_Price__c = 143.0,
                Antenna_GPS_FLAT_Price__c = 349.0,
                Antenna_GPS_Shark_Price__c = 749.0,
                Spare_battery_for_CN85_1_4_Price__c = 645.0,
                Can_Bus_transducer_MCB_02_Price__c = 1654.0,
                Microwave_sensor_Price__c = 2749.0,
                Acoustic_signaling_with_LED_Price__c = 174.0,
                Button_Panic2_Price__c = 640.0,
                Siren_Alarm_Price__c = 334.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Not required',
                X1_m_cable_to_the_temperature_Amount__c = 117.0,
                X1_m_silicone_cable_temp_sensor_Amount__c = 116.0,
                Acoustic_signaling_with_LED_Amount__c = 31.0,
                Adhesive_switch_P_S_Amount__c = 113.0,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 112.0,
                Antenna_GPS_FLAT_Amount__c = 81.0,
                Antenna_GPS_Shark_Amount__c = 7.10,
                Basic_switch_Amount__c = 141.0,
                Button_Panic_Amount__c = 41.0,
                Button_Panic2_Amount__c = 2,
                Cable_CAN_Amount__c = 111.0,
                Calibrating_transducer_PT100_Amount__c = 211.0,
                Can_Bus_transducer_MCB_02_Amount__c = 1.0,
                CAN_GO_CLICK_Amount__c = 110.0,
                Dalas_chip_Amount__c = 216.0,
                Guarding_cargo_space_Amount__c = 315.0,
                Guarding_the_vehicle_one_switch_Amount__c = 10.0,
                Guarding_the_vehicle_reader_Amount__c = 13.0,
                Microwave_sensor_Amount__c = 14.0,
                Piezoelectric_siren_Amount__c = 213.0,
                Plastic_temperature_sensor_holder_Amount__c = 115.0,
                Power_supplyPower_cable_harnesses_Amount__c = 91.0,
                Reader_Dalas_Amount__c = 314.0,
                Reader_HIDProx_Amount__c = 310.0,
                Reader_Inditag_Amount__c = 321.0,
                Reader_Legic_Amount__c = 217.0,
                Reader_Mifare_Amount__c = 311.0,
                Reader_Multi_125_Amount__c = 219.0,
                Reader_Multi_ISO_Amount__c = 218.0,
                Reader_RFID_Slim_Amount__c = 313.0,
                RFID_adhesive_chip_Amount__c = 24.10,
                RFID_fobs_Amount__c = 215.0,
                Siren_Alarm_Amount__c = 11.0,
                Spare_battery_for_CN85_1_4_Amount__c = 61.0,
                Temperature_measurementCargoSpace_Amount__c = 221.0,
                Temperature_sensor_Dalas_Amount__c = 118.0,
                Temperature_sensor_Pt100A_Amount__c = 119.0,
                Temperature_sensor_Pt100B_Amount__c = 201.0);
        insert asdd;

        Additional_Hardware__c ddd = new Additional_Hardware__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Guarding_the_vehicle_one_switch_Price__c = 4.0,
                Guarding_the_vehicle_reader_Price__c = 250.0,
                Button_Panic_Price__c = 10.0,
                Guarding_cargo_space_Price__c = 515.0,
                Reader_Dalas_Price__c = 35.0,
                Reader_RFID_Slim_Price__c = 259.0,
                Reader_Inditag_Price__c = 899.0,
                Reader_Mifare_Price__c = 599.0,
                Reader_Multi_125_Price__c = 599.0,
                Reader_HIDProx_Price__c = 749.0,
                Reader_Multi_ISO_Price__c = 719.0,
                Reader_Legic_Price__c = 879.0,
                Dalas_chip_Price__c = 13.0,
                RFID_fobs_Price__c = 9.0,
                RFID_adhesive_chip_Price__c = 8.0,
                Piezoelectric_siren_Price__c = 7.0,
                Temperature_measurementCargoSpace_Price__c = 295.0,
                Calibrating_transducer_PT100_Price__c = 199.0,
                Temperature_sensor_Pt100B_Price__c = 36.0,
                Temperature_sensor_Pt100A_Price__c = 39.0,
                Temperature_sensor_Dalas_Price__c = 75.0,
                X1_m_cable_to_the_temperature_Price__c = 3.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 5.0,
                Plastic_temperature_sensor_holder_Price__c = 6.0,
                Basic_switch_Price__c = 3.0,
                Adhesive_switch_P_S_Price__c = 23.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 39.0,
                Cable_CAN_Price__c = 5.0,
                CAN_GO_CLICK_Price__c = 99.0,
                Power_supply_power_cable_harnesses_Price__c = 13.0,
                Antenna_GPS_FLAT_Price__c = 39.0,
                Antenna_GPS_Shark_Price__c = 79.0,
                Spare_battery_for_CN85_1_4_Price__c = 65.0,
                Can_Bus_transducer_MCB_02_Price__c = 165.0,
                Microwave_sensor_Price__c = 279.0,
                Acoustic_signaling_with_LED_Price__c = 17.0,
                Button_Panic2_Price__c = 60.0,
                Siren_Alarm_Price__c = 33.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Not required',
                X1_m_cable_to_the_temperature_Amount__c = 17.0,
                X1_m_silicone_cable_temp_sensor_Amount__c = 16.0,
                Acoustic_signaling_with_LED_Amount__c = 3.0,
                Adhesive_switch_P_S_Amount__c = 13.0,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 12.0,
                Antenna_GPS_FLAT_Amount__c = 8.0,
                Antenna_GPS_Shark_Amount__c = 7.0,
                Basic_switch_Amount__c = 14.0,
                Button_Panic_Amount__c = 4.0,
                Button_Panic2_Amount__c = 2.0,
                Cable_CAN_Amount__c = 11.0,
                Calibrating_transducer_PT100_Amount__c = 21.0,
                Can_Bus_transducer_MCB_02_Amount__c = 5.0,
                CAN_GO_CLICK_Amount__c = 10.0,
                Dalas_chip_Amount__c = 26.0,
                Guarding_cargo_space_Amount__c = 35.0,
                Guarding_the_vehicle_one_switch_Amount__c = 5.0,
                Guarding_the_vehicle_reader_Amount__c = 3.0,
                Microwave_sensor_Amount__c = 4.0,
                Piezoelectric_siren_Amount__c = 23.0,
                Plastic_temperature_sensor_holder_Amount__c = 15.0,
                Power_supplyPower_cable_harnesses_Amount__c = 9.0,
                Reader_Dalas_Amount__c = 34.0,
                Reader_HIDProx_Amount__c = 30.0,
                Reader_Inditag_Amount__c = 32.0,
                Reader_Legic_Amount__c = 27.0,
                Reader_Mifare_Amount__c = 31.0,
                Reader_Multi_125_Amount__c = 29.0,
                Reader_Multi_ISO_Amount__c = 28.0,
                Reader_RFID_Slim_Amount__c = 33.0,
                RFID_adhesive_chip_Amount__c = 24.0,
                RFID_fobs_Amount__c = 25.0,
                Siren_Alarm_Amount__c = 1.0,
                Spare_battery_for_CN85_1_4_Amount__c = 6.0,
                Temperature_measurementCargoSpace_Amount__c = 22.0,
                Temperature_sensor_Dalas_Amount__c = 18.0,
                Temperature_sensor_Pt100A_Amount__c = 19.0,
                Temperature_sensor_Pt100B_Amount__c = 20.0);
        insert ddd;

        Additional_Hardware__c adx = new Additional_Hardware__c(
                CurrencyIsoCode = 'PLN',
                opportunity__c = o.Id,
                Guarding_the_vehicle_one_switch_Price__c = 1.0,
                Guarding_the_vehicle_reader_Price__c = 250.0,
                Button_Panic_Price__c = 10.0,
                Guarding_cargo_space_Price__c = 515.0,
                Reader_Dalas_Price__c = 35.0,
                Reader_RFID_Slim_Price__c = 259.0,
                Reader_Inditag_Price__c = 899.0,
                Reader_Mifare_Price__c = 599.0,
                Reader_Multi_125_Price__c = 599.0,
                Reader_HIDProx_Price__c = 749.0,
                Reader_Multi_ISO_Price__c = 719.0,
                Reader_Legic_Price__c = 879.0,
                Dalas_chip_Price__c = 13.0,
                RFID_fobs_Price__c = 9.0,
                RFID_adhesive_chip_Price__c = 8.0,
                Piezoelectric_siren_Price__c = 7.0,
                Temperature_measurementCargoSpace_Price__c = 295.0,
                Calibrating_transducer_PT100_Price__c = 199.0,
                Temperature_sensor_Pt100B_Price__c = 36.0,
                Temperature_sensor_Pt100A_Price__c = 39.0,
                Temperature_sensor_Dalas_Price__c = 75.0,
                X1_m_cable_to_the_temperature_Price__c = 3.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 5.0,
                Plastic_temperature_sensor_holder_Price__c = 6.0,
                Basic_switch_Price__c = 3.0,
                Adhesive_switch_P_S_Price__c = 23.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 39.0,
                Cable_CAN_Price__c = 5.0,
                CAN_GO_CLICK_Price__c = 99.0,
                Power_supply_power_cable_harnesses_Price__c = 13.0,
                Antenna_GPS_FLAT_Price__c = 39.0,
                Antenna_GPS_Shark_Price__c = 79.0,
                Spare_battery_for_CN85_1_4_Price__c = 65.0,
                Can_Bus_transducer_MCB_02_Price__c = 165.0,
                Microwave_sensor_Price__c = 279.0,
                Acoustic_signaling_with_LED_Price__c = 17.0,
                Button_Panic2_Price__c = 60.0,
                Siren_Alarm_Price__c = 33.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Approval Required',
                X1_m_cable_to_the_temperature_Amount__c = 1,
                X1_m_silicone_cable_temp_sensor_Amount__c = 1,
                Acoustic_signaling_with_LED_Amount__c = 1,
                Adhesive_switch_P_S_Amount__c = 1,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 2,
                Antenna_GPS_FLAT_Amount__c = 2,
                Antenna_GPS_Shark_Amount__c = 2,
                Basic_switch_Amount__c = 2,
                Button_Panic_Amount__c = 1.0,
                Button_Panic2_Amount__c = 2,
                Cable_CAN_Amount__c = 2,
                Calibrating_transducer_PT100_Amount__c = 2,
                Can_Bus_transducer_MCB_02_Amount__c = 2,
                CAN_GO_CLICK_Amount__c = 2,
                Dalas_chip_Amount__c = 2,
                Guarding_cargo_space_Amount__c = 1.0,
                Guarding_the_vehicle_one_switch_Amount__c = 1.0,
                Guarding_the_vehicle_reader_Amount__c = 1.0,
                Microwave_sensor_Amount__c = 2,
                Piezoelectric_siren_Amount__c = 3,
                Plastic_temperature_sensor_holder_Amount__c = 5,
                Power_supplyPower_cable_harnesses_Amount__c = 5,
                Reader_Dalas_Amount__c = 5,
                Reader_HIDProx_Amount__c = 5,
                Reader_Inditag_Amount__c = 8,
                Reader_Legic_Amount__c = 8,
                Reader_Mifare_Amount__c = 8,
                Reader_Multi_125_Amount__c = 8,
                Reader_Multi_ISO_Amount__c = 8,
                Reader_RFID_Slim_Amount__c = 8,
                RFID_adhesive_chip_Amount__c = 8,
                RFID_fobs_Amount__c = 8,
                Siren_Alarm_Amount__c = 7,
                Spare_battery_for_CN85_1_4_Amount__c = 7,
                Temperature_measurementCargoSpace_Amount__c =7,
                Temperature_sensor_Dalas_Amount__c = 7,
                Temperature_sensor_Pt100A_Amount__c = 7,
                Temperature_sensor_Pt100B_Amount__c = 7);
            insert adx;


        test.startTest();


        Apexpages.currentPage().getParameters().put('id',o.Id);
        CreateCommercialProposalCarnetController ccd = new CreateCommercialProposalCarnetController();

        System.assertEquals(null, ccd.opportunity);
        System.assertEquals(null, ccd.contact);
        System.assertEquals(null, ccd.user);
        System.assertEquals(null, ccd.fileId);
        System.assertEquals(null, ccd.opportunityId);
        System.assertEquals(null, ccd.isFilled);
        System.assertEquals(null, ccd.isntValid);


        ccd.opportunity = o;
        ccd.contact = c;

        User user = [SELECT Id, Name, Email FROM User LIMIT 1][0];
        ccd.user = user;
        user.Email ='asd@asdasd.com';
        System.assertEquals(o, ccd.opportunity);

        //System.assertEquals(ccd.getEmailPreview(o.Id, c.Id), ccd.getEmailPreview(o.Id, c.Id));
        //System.assertEquals(ccd.getPlainEmail(o.Id, c.Id), ccd.getPlainEmail(o.Id, c.Id));

        Blob asd = null;
        System.assertEquals(null, ccd.init());
        ccd.contactId = c.Id;
        //System.assertEquals(c.Id, ccd.contactId);
        //System.assertEquals(null, ccd.myText);

        
        System.assertNotEquals(null, ccd.sendEmail());
        System.assertNotEquals(null, ccd.savePDF());

        CreateCommercialCarnetPDFController pdfcon = new CreateCommercialCarnetPDFController(new ApexPages.StandardController(o));
        pdfcon.oppId = o.Id;


        System.assertNotEquals(pdfcon.items, null);
        System.assertNotEquals(pdfcon.monthlyItems, null);
        System.assertNotEquals(pdfcon.oneTimeItems, null);

        //System.assertEquals(pdfcon.oppId, o.Id);


        Opportunity o2 = new Opportunity(
                Name = 'test',
                Product__c = 'Carnet Standard 2019',
                AccountId = a.id,
                Primary_Contact__c = c.Id,
                CloseDate = Date.today(),
                StageName = 'Qualify',
                Type = 'New GFN',
                Number_of_GPS_units__c = 3,
                Pricing_Approval_Status__c = 'Not required');
        insert o2;

        Apexpages.currentPage().getParameters().put('id',o2.Id);
        CreateCommercialProposalCarnetController dede = new CreateCommercialProposalCarnetController();
    }

    @IsTest
    static void testBehavior() {
        Account a = new Account(
                Name = 'test',
                BillingCountry = 'Germany',
                BillingCity = 'BERG',
                BillingStreet = 'LUDWIGSTRASSE 69');
        insert a;

        Contact c = new Contact(
                Salutation = 'Herr',
                LastName = 'test',
                AccountId = a.Id,
                Email = 'test@test.com');
        insert c;

        Opportunity o2 = new Opportunity(
                Name = 'test',
                Product__c = 'Carnet Standard 2019',
                AccountId = a.id,
                Primary_Contact__c = c.Id,
                CloseDate = Date.today(),
                StageName = 'Qualify',
                Type = 'New GFN',
                Number_of_GPS_units__c = 3,
                Pricing_Approval_Status__c = 'Not required');
        insert o2;

        Apexpages.currentPage().getParameters().put('id',o2.Id);
        CreateCommercialProposalCarnetController dede = new CreateCommercialProposalCarnetController();
        dede.init();
    }

    @IsTest
    static void test3() {
        Account a = new Account(
                Name = 'test',
                BillingCountry = 'Germany',
                BillingCity = 'BERG',
                BillingStreet = 'LUDWIGSTRASSE 69');
        insert a;

        Contact c = new Contact(
                Salutation = 'Herr',
                LastName = 'test',
                AccountId = a.Id,
                Email = 'test@test.com');
        insert c;

        Opportunity o2 = new Opportunity(
                Name = 'test',
                Product__c = 'Carnet Standard 2019',
                AccountId = a.id,
                CloseDate = Date.today(),
                StageName = 'Qualify',
                Type = 'New GFN',
                Number_of_GPS_units__c = 3,
                Pricing_Approval_Status__c = 'Not required');
        insert o2;

        Apexpages.currentPage().getParameters().put('id',o2.Id);
        CreateCommercialProposalCarnetController dede = new CreateCommercialProposalCarnetController();
        dede.init();

        //cause message to be added to page
        List<Apexpages.Message> msgs = ApexPages.getMessages();
        boolean b = false;
        for(Apexpages.Message msg:msgs){
            if (msg.getDetail().contains('You need to assign Primary Contact on Opportunity. Please, go back.')) b = true;
            if (msg.getDetail().contains('You need to add Order Payment Method. Please, go back.')) b = true;
            if (msg.getDetail().contains('You need to create Carnet Unit or Additional Hardware to be able to generate and send PDFs. Please, go back.')) b = true;
        }
        system.assert(b);

    }

    @IsTest
    static void test4() {
        Account a = new Account(
                Name = 'test',
                BillingCountry = 'Germany',
                BillingCity = 'BERG',
                BillingStreet = 'LUDWIGSTRASSE 69');
        insert a;

        Contact c = new Contact(
                Salutation = 'Herr',
                LastName = 'test',
                AccountId = a.Id,
                Email = 'test@test.com');
        insert c;

        Opportunity o2 = new Opportunity(
                Name = 'test',
                Product__c = 'Carnet Standard 2019',
                AccountId = a.id,
                Primary_Contact__c = c.Id,
                Form_of_Payment__c = null,
                CloseDate = Date.today(),
                StageName = 'Qualify',
                Type = 'New GFN',
                Number_of_GPS_units__c = 0,
                Pricing_Approval_Status__c = 'Not required');
        insert o2;

        Apexpages.currentPage().getParameters().put('id',o2.Id);
        CreateCommercialProposalCarnetController dede = new CreateCommercialProposalCarnetController();
        dede.init();
    }

    @IsTest
    static void test2() {
        Account a = new Account(
                Name = 'test',
                BillingCountry = 'Germany',
                BillingCity = 'BERG',
                BillingStreet = 'LUDWIGSTRASSE 69');
        insert a;

        Account account = new Account(
                Name = 'INTERCODEC4',
                Type = 'Customer',
                RecordTypeId = '012200000006oIFAAY',
                BillingStreet = 'TESTOVACI 1',
                BillingCity = 'WARSAW',
                BillingState = 'Lower Silesia',
                BillingPostalCode = '12345',
                BillingCountry = 'Poland',
                BillingStateCode = 'DS',
                BillingCountryCode = 'PL',
                ShippingStreet = 'TESTOVACI 2',
                ShippingCity = 'LODZ',
                ShippingState = 'Kuyavia-Pomerania',
                ShippingPostalCode = '12345',
                ShippingCountry = 'Poland',
                ShippingStateCode = 'KP',
                ShippingCountryCode = 'PL',
                Phone = '+420123456789',
                CurrencyIsoCode = 'PLN',
                OwnerId = '00520000005vUunAAE',
                IsExcludedFromRealign = false,
                CleanStatus = 'Pending',
                AccountSource = 'ABVP',
                Gesellschaftsform__c = 'Agency of an Overseas Business',
                GFN_Nr__c = '1',
                Karte_zusenden__c = false,
                Pin_vergessen__c = false,
                CardProcessing_abgeschlossen__c = false,
                Einwilligung_Lastschriftverfahren__c = false,
                Beschaeftigte__c = '1-4',
                Daten_fehlerhaft__c = false,
                AGB_Best_tigt__c = 'Ja',
                Disclosure_Group_FO_Account_SILVER__c = 'FCCI0249',
                Disclosure_Group_FO_Account_PLUS__c = 'FCCI0348',
                Disclosure_Group_FO_Account_GOLD__c = 'FCCI0398',
                Alternate_Disclosure_Group_SILVER__c = 'FCCI0000',
                Alternate_Disclosure_Group_PLUS__c = 'FCCI0099',
                Alternate_Disclosure_Group_GOLD__c = 'FCCI0149',
                Tage_Alternate_Disclosure_Group_SILVER__c = '0',
                Tage_Alternate_Disclosure_Group_PLUS__c = '0',
                Tage_Alternate_Disclosure_Group_GOLD__c = '0',
                Retailer_Status__c = 'aktiv',
                Subaccount__c = false,
                No_Card_fee__c = '0',
                Steuernummer__c = '98765432111',
                E2E__c = false,
                Kartentyp__c = 'FlexKarte',
                Antrag_generieren__c = false,
                Sec_Channel_Acc__c = 'Outbound',
                Aware_of_NoFee_Offer_conditions__c = false,
                Aware_of_retailer_bonus_program__c = false,
                Have_objections__c = false,
                Vouchers_Sent__c = 0.0,
                CCS_Account_Record_Type__c = 'Endkunde',
                Portal_Schreibschutz__c = false,
                Lead_ID__c = '00Q1q000002XisHEAS',
                Lead_Record_Type__c = 'Endkunde',
                Cold_Lead__c = false,
                Id_Owner_Lead__c = '00520000005vUunAAE',
                Consent_Form_Datatransfer__c = false,
                Active_Change_Owner_Request__c = false,
                Interested_in_cooperation__c = false,
                Agree_to_process_pers_data_for_marketing__c = false,
                Agree_to_receive_comm_info_by_email__c = false,
                Agree_to_telephone_contact__c = false,
                Customer_s_Search_Request__c = 'Общий',
                CCS_account_merge_status__c = false,
                Not_Interessted_Brand_Fleetcor__c = false,
                Positiv_Brand_Fleetcor__c = false,
                Discount_too_low__c = false,
                Fees_too_high__c = false,
                Offer_sounds_interessting__c = false,
                Offer_and_Advantages_explained__c = false,
                Know_the_Retailerportal__c = false,
                E2E_Voucher_sent__c = false);
        insert account;

        Contact c = new Contact(
                Salutation = 'Herr',
                LastName = 'test',
                AccountId = a.Id,
                Email = 'test@test.com');
        insert c;

        Opportunity o = new Opportunity(
                Name = 'test',
                Product__c = 'Carnet Standard 2019',
                AccountId = a.id,
                Primary_Contact__c = c.Id,
                CloseDate = Date.today(),
                StageName = 'Qualify',
                Type = 'New GFN',
                Form_of_Payment__c = 'Bank Transfer - after delivery',
                Monthly_Payment_Method__c = 'Bank transfer',
                Number_of_GPS_units__c = 3,
                Pricing_Approval_Status__c = 'Not required');
        insert o;

        OpportunityContactRole ocr = new OpportunityContactRole(
                OpportunityId = o.Id,
                ContactId = c.Id,
                IsPrimary = true
        );
        insert ocr;


        Pricebook2 pricebook2 = new Pricebook2(
                Name = 'Carnet Unit 2019',
                CurrencyIsoCode = 'PLN',
                RecordTypeId = '0120O000000XMWb',
                IsActive = true,
                Description = 'Prices for 2019.',
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 0.0,
                Installation__c = 199.0,
                Standard_24__c = 39.0,
                Standard_36__c = 29.0,
                EU_24__c = 44.0,
                EU_36__c = 34.0,
                Driving_Style__c = 1.0,
                Reservations__c = 2.0,
                Archiving__c = 25,
                On_line_position_above_standard__c = 1.0,
                Tariff_World__c = 17.0,
                Web_services__c = 1.0,
                Service_Alarm__c = 1.0,
                Guarding_the_vehicle_one_switch__c = 4.0,
                Guarding_the_vehicle_reader__c = 250.0,
                Button_Panic__c = 10.0,
                Guarding_cargo_space__c = 515.0,
                Reader_Dalas__c = 35.0,
                Reader_RFID_Slim__c = 259.0,
                Reader_Inditag__c = 899.0,
                Reader_Mifare__c = 599.0,
                Reader_Multi_125__c = 599.0,
                Reader_HIDProx__c = 749.0,
                Reader_Multi_ISO__c = 719.0,
                Reader_Legic__c = 879.0,
                Dalas_chip__c = 13.0,
                RFID_fobs__c = 9.0,
                RFID_adhesive_chip__c = 8.0,
                Piezoelectric_siren__c = 7.0,
                Temperature_measurement_in_the_cargo_spa__c = 295.0,
                Calibrating_transducer_PT100__c = 199.0,
                Temperature_sensor_Pt100B_with_cable_1m__c = 36.0,
                Temperature_sensor_Pt100A_with_cable_1m__c = 39.0,
                Temperature_sensor_Dalas__c = 75.0,
                X1_m_cable_to_the_temperature_sensor__c = 3.0,
                X1_m_silicone_cable_to_the_temp_sensor__c = 5.0,
                Plastic_temperature_sensor_holder__c = 6.0,
                Basic_switch__c = 3.0,
                Adhesive_switch_P_S__c = 23.0,
                Adhesive_switch_P_S_with_a_diode_LED__c = 39.0,
                Cable_CAN__c = 5.0,
                CAN_GO_CLICK__c = 99.0,
                Power_supply_power_cable_harnesses__c = 13.0,
                Antenna_GPS_FLAT__c = 39.0,
                Antenna_GPS_Shark__c = 79.0,
                Spare_battery_for_CN85_1_4__c = 65.0,
                Can_Bus_transducer_MCB_02__c = 165.0,
                Microwave_sensor__c = 279.0,
                Acoustic_signaling_with_LED__c = 17.0,
                Button_Panic2__c = 60.0,
                Siren_Alarm__c = 33.0,
                Standard_Unit_Package_6_15__c = 269.0,
                Standard_Unit_Package_16__c = 259.0,
                Custom__c = false);
        insert pricebook2;



        Account_Price_Book__c account_price_book = new Account_Price_Book__c(Name = 'Carnet Unit 2019',
                CurrencyIsoCode = 'PLN',
                Custom__c = false,
                Approval_Status__c = 'Not required',
                Account__c = a.Id,
                Price_Book__c = pricebook2.Id);
        insert account_price_book;

        Carnet_Unit__c carnet_unit = new Carnet_Unit__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Pricing_Approval_Status__c = 'Not required',
                Number_of_Units__c = 1.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                isEdited__c = false,
                Contract_term__c = '24 months',
                Monitoring_in_EU__c = true,
                Monitoring_in_other_European_countries__c = true,
                Carnet_Tariff__c = 'EU 24',
                Driving_Style__c = true,
                Reservations__c = true,
                Archiving__c = true,
                On_line_position_above_standard__c = true,
                Web_services__c = true,
                Service_Alarm__c = true,
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 0.0,
                Installation__c = 199.0,
                Driving_Style_Price__c = 1.0,
                Reservations_Price__c = 2.0,
                Archiving_Price__c = 1.0,
                On_line_position_above_standard_Price__c = 1.0,
                Tariff_World_Price__c = 17.0,
                Web_services_Price__c = 1.0,
                Service_Alarm_Price__c = 1.0,
                Carnet_Tariff_Price__c = 44.0,
                Standard_Unit_Package3__c = 289.0,
                Standard_Unit_Package_16_c__c = 259.0,
                Standard_Unit_Package_6_15_c__c = 269.0,
                BypassValidationForProcessBuilder__c = false);
        insert carnet_unit;

        Carnet_Unit__c c2 = new Carnet_Unit__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Pricing_Approval_Status__c = 'Not required',
                Number_of_Units__c = 1.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                isEdited__c = false,
                Contract_term__c = '24 months',
                Monitoring_in_EU__c = true,
                Monitoring_in_other_European_countries__c = true,
                Carnet_Tariff__c = 'EU 24',
                Driving_Style__c = true,
                Reservations__c = true,
                Archiving__c = true,
                On_line_position_above_standard__c = true,
                Web_services__c = true,
                Service_Alarm__c = true,
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 0.0,
                Installation__c = 199.0,
                Driving_Style_Price__c = 1.0,
                Reservations_Price__c = 2.0,
                Archiving_Price__c = 1.0,
                On_line_position_above_standard_Price__c = 1.0,
                Tariff_World_Price__c = 17.0,
                Web_services_Price__c = 1.0,
                Service_Alarm_Price__c = 1.0,
                Carnet_Tariff_Price__c = 44.0,
                Standard_Unit_Package3__c = 289.0,
                Standard_Unit_Package_16_c__c = 259.0,
                Standard_Unit_Package_6_15_c__c = 269.0,
                BypassValidationForProcessBuilder__c = false);
        insert c2;

        Carnet_Unit__c c21 = new Carnet_Unit__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Pricing_Approval_Status__c = 'Not required',
                Number_of_Units__c = 1.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                isEdited__c = false,
                Contract_term__c = '24 months',
                Monitoring_in_EU__c = true,
                Monitoring_in_other_European_countries__c = true,
                Carnet_Tariff__c = 'EU 24',
                Driving_Style__c = true,
                Reservations__c = true,
                Archiving__c = true,
                On_line_position_above_standard__c = true,
                Web_services__c = true,
                Service_Alarm__c = true,
                Standard_Unit_Package__c = 289.0,
                Unit_Activation__c = 10.0,
                Installation__c = 1929.0,
                Driving_Style_Price__c = 12.0,
                Reservations_Price__c = 22.0,
                Archiving_Price__c = 12.0,
                On_line_position_above_standard_Price__c = 21.0,
                Tariff_World_Price__c = 127.0,
                Web_services_Price__c = 1.20,
                Service_Alarm_Price__c = 12.0,
                Carnet_Tariff_Price__c = 442.0,
                Standard_Unit_Package3__c = 2289.0,
                Standard_Unit_Package_16_c__c = 2259.0,
                Standard_Unit_Package_6_15_c__c = 2649.0,
                BypassValidationForProcessBuilder__c = false);
        insert c21;

        Additional_Hardware__c additional_hardware = new Additional_Hardware__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Guarding_the_vehicle_one_switch_Price__c = 4.0,
                Guarding_the_vehicle_reader_Price__c = 250.0,
                Button_Panic_Price__c = 10.0,
                Guarding_cargo_space_Price__c = 515.0,
                Reader_Dalas_Price__c = 35.0,
                Reader_RFID_Slim_Price__c = 259.0,
                Reader_Inditag_Price__c = 899.0,
                Reader_Mifare_Price__c = 599.0,
                Reader_Multi_125_Price__c = 599.0,
                Reader_HIDProx_Price__c = 749.0,
                Reader_Multi_ISO_Price__c = 719.0,
                Reader_Legic_Price__c = 879.0,
                Dalas_chip_Price__c = 13.0,
                RFID_fobs_Price__c = 9.0,
                RFID_adhesive_chip_Price__c = 8.0,
                Piezoelectric_siren_Price__c = 7.0,
                Temperature_measurementCargoSpace_Price__c = 295.0,
                Calibrating_transducer_PT100_Price__c = 199.0,
                Temperature_sensor_Pt100B_Price__c = 36.0,
                Temperature_sensor_Pt100A_Price__c = 39.0,
                Temperature_sensor_Dalas_Price__c = 75.0,
                X1_m_cable_to_the_temperature_Price__c = 3.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 5.0,
                Plastic_temperature_sensor_holder_Price__c = 6.0,
                Basic_switch_Price__c = 3.0,
                Adhesive_switch_P_S_Price__c = 23.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 39.0,
                Cable_CAN_Price__c = 5.0,
                CAN_GO_CLICK_Price__c = 99.0,
                Power_supply_power_cable_harnesses_Price__c = 13.0,
                Antenna_GPS_FLAT_Price__c = 39.0,
                Antenna_GPS_Shark_Price__c = 79.0,
                Spare_battery_for_CN85_1_4_Price__c = 65.0,
                Can_Bus_transducer_MCB_02_Price__c = 165.0,
                Microwave_sensor_Price__c = 279.0,
                Acoustic_signaling_with_LED_Price__c = 17.0,
                Button_Panic2_Price__c = 60.0,
                Siren_Alarm_Price__c = 33.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Not required',
                X1_m_cable_to_the_temperature_Amount__c = 17.0,
                X1_m_silicone_cable_temp_sensor_Amount__c = 16.0,
                Acoustic_signaling_with_LED_Amount__c = 3.0,
                Adhesive_switch_P_S_Amount__c = 13.0,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 12.0,
                Antenna_GPS_FLAT_Amount__c = 8.0,
                Antenna_GPS_Shark_Amount__c = 7.0,
                Basic_switch_Amount__c = 14.0,
                Button_Panic_Amount__c = 4.0,
                Button_Panic2_Amount__c = 2.0,
                Cable_CAN_Amount__c = 11.0,
                Calibrating_transducer_PT100_Amount__c = 21.0,
                Can_Bus_transducer_MCB_02_Amount__c = 5.0,
                CAN_GO_CLICK_Amount__c = 10.0,
                Dalas_chip_Amount__c = 26.0,
                Guarding_cargo_space_Amount__c = 35.0,
                Guarding_the_vehicle_one_switch_Amount__c = 10.0,
                Guarding_the_vehicle_reader_Amount__c = 3.0,
                Microwave_sensor_Amount__c = 4.0,
                Piezoelectric_siren_Amount__c = 23.0,
                Plastic_temperature_sensor_holder_Amount__c = 15.0,
                Power_supplyPower_cable_harnesses_Amount__c = 9.0,
                Reader_Dalas_Amount__c = 34.0,
                Reader_HIDProx_Amount__c = 30.0,
                Reader_Inditag_Amount__c = 32.0,
                Reader_Legic_Amount__c = 27.0,
                Reader_Mifare_Amount__c = 31.0,
                Reader_Multi_125_Amount__c = 29.0,
                Reader_Multi_ISO_Amount__c = 28.0,
                Reader_RFID_Slim_Amount__c = 33.0,
                RFID_adhesive_chip_Amount__c = 24.0,
                RFID_fobs_Amount__c = 25.0,
                Siren_Alarm_Amount__c = 1.0,
                Spare_battery_for_CN85_1_4_Amount__c = 6.0,
                Temperature_measurementCargoSpace_Amount__c = 22.0,
                Temperature_sensor_Dalas_Amount__c = 18.0,
                Temperature_sensor_Pt100A_Amount__c = 19.0,
                Temperature_sensor_Pt100B_Amount__c = 20.0);
        insert additional_hardware;

        Additional_Hardware__c asdd = new Additional_Hardware__c(
                Opportunity__c = o.Id,
                CurrencyIsoCode = 'PLN',
                Guarding_the_vehicle_one_switch_Price__c = 41.0,
                Guarding_the_vehicle_reader_Price__c = 1250.0,
                Button_Panic_Price__c = 101.0,
                Guarding_cargo_space_Price__c = 5115.0,
                Reader_Dalas_Price__c = 351.0,
                Reader_RFID_Slim_Price__c = 2591.0,
                Reader_Inditag_Price__c = 8919.0,
                Reader_Mifare_Price__c = 5919.0,
                Reader_Multi_125_Price__c = 5919.0,
                Reader_HIDProx_Price__c = 7149.0,
                Reader_Multi_ISO_Price__c = 7119.0,
                Reader_Legic_Price__c = 87119.0,
                Dalas_chip_Price__c = 113.0,
                RFID_fobs_Price__c = 19.0,
                RFID_adhesive_chip_Price__c = 81.0,
                Piezoelectric_siren_Price__c = 71.0,
                Temperature_measurementCargoSpace_Price__c = 2915.0,
                Calibrating_transducer_PT100_Price__c = 1919.0,
                Temperature_sensor_Pt100B_Price__c = 36141.0,
                Temperature_sensor_Pt100A_Price__c = 3149.0,
                Temperature_sensor_Dalas_Price__c = 7451.0,
                X1_m_cable_to_the_temperature_Price__c = 43.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 54.0,
                Plastic_temperature_sensor_holder_Price__c = 6.40,
                Basic_switch_Price__c = 3.40,
                Adhesive_switch_P_S_Price__c = 243.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 349.0,
                Cable_CAN_Price__c = 54.0,
                CAN_GO_CLICK_Price__c = 949.0,
                Power_supply_power_cable_harnesses_Price__c = 143.0,
                Antenna_GPS_FLAT_Price__c = 349.0,
                Antenna_GPS_Shark_Price__c = 749.0,
                Spare_battery_for_CN85_1_4_Price__c = 645.0,
                Can_Bus_transducer_MCB_02_Price__c = 1654.0,
                Microwave_sensor_Price__c = 2749.0,
                Acoustic_signaling_with_LED_Price__c = 174.0,
                Button_Panic2_Price__c = 640.0,
                Siren_Alarm_Price__c = 334.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Not required',
                X1_m_cable_to_the_temperature_Amount__c = 117.0,
                X1_m_silicone_cable_temp_sensor_Amount__c = 116.0,
                Acoustic_signaling_with_LED_Amount__c = 31.0,
                Adhesive_switch_P_S_Amount__c = 113.0,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 112.0,
                Antenna_GPS_FLAT_Amount__c = 81.0,
                Antenna_GPS_Shark_Amount__c = 7.10,
                Basic_switch_Amount__c = 141.0,
                Button_Panic_Amount__c = 41.0,
                Button_Panic2_Amount__c = 2,
                Cable_CAN_Amount__c = 111.0,
                Calibrating_transducer_PT100_Amount__c = 211.0,
                Can_Bus_transducer_MCB_02_Amount__c = 1.0,
                CAN_GO_CLICK_Amount__c = 110.0,
                Dalas_chip_Amount__c = 216.0,
                Guarding_cargo_space_Amount__c = 315.0,
                Guarding_the_vehicle_one_switch_Amount__c = 10.0,
                Guarding_the_vehicle_reader_Amount__c = 13.0,
                Microwave_sensor_Amount__c = 14.0,
                Piezoelectric_siren_Amount__c = 213.0,
                Plastic_temperature_sensor_holder_Amount__c = 115.0,
                Power_supplyPower_cable_harnesses_Amount__c = 91.0,
                Reader_Dalas_Amount__c = 314.0,
                Reader_HIDProx_Amount__c = 310.0,
                Reader_Inditag_Amount__c = 321.0,
                Reader_Legic_Amount__c = 217.0,
                Reader_Mifare_Amount__c = 311.0,
                Reader_Multi_125_Amount__c = 219.0,
                Reader_Multi_ISO_Amount__c = 218.0,
                Reader_RFID_Slim_Amount__c = 313.0,
                RFID_adhesive_chip_Amount__c = 24.10,
                RFID_fobs_Amount__c = 215.0,
                Siren_Alarm_Amount__c = 11.0,
                Spare_battery_for_CN85_1_4_Amount__c = 61.0,
                Temperature_measurementCargoSpace_Amount__c = 221.0,
                Temperature_sensor_Dalas_Amount__c = 118.0,
                Temperature_sensor_Pt100A_Amount__c = 119.0,
                Temperature_sensor_Pt100B_Amount__c = 201.0);
        insert asdd;

        Additional_Hardware__c ddd = new Additional_Hardware__c(
                CurrencyIsoCode = 'PLN',
                Opportunity__c = o.Id,
                Guarding_the_vehicle_one_switch_Price__c = 4.0,
                Guarding_the_vehicle_reader_Price__c = 250.0,
                Button_Panic_Price__c = 10.0,
                Guarding_cargo_space_Price__c = 515.0,
                Reader_Dalas_Price__c = 35.0,
                Reader_RFID_Slim_Price__c = 259.0,
                Reader_Inditag_Price__c = 899.0,
                Reader_Mifare_Price__c = 599.0,
                Reader_Multi_125_Price__c = 599.0,
                Reader_HIDProx_Price__c = 749.0,
                Reader_Multi_ISO_Price__c = 719.0,
                Reader_Legic_Price__c = 879.0,
                Dalas_chip_Price__c = 13.0,
                RFID_fobs_Price__c = 9.0,
                RFID_adhesive_chip_Price__c = 8.0,
                Piezoelectric_siren_Price__c = 7.0,
                Temperature_measurementCargoSpace_Price__c = 295.0,
                Calibrating_transducer_PT100_Price__c = 199.0,
                Temperature_sensor_Pt100B_Price__c = 36.0,
                Temperature_sensor_Pt100A_Price__c = 39.0,
                Temperature_sensor_Dalas_Price__c = 75.0,
                X1_m_cable_to_the_temperature_Price__c = 3.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 5.0,
                Plastic_temperature_sensor_holder_Price__c = 6.0,
                Basic_switch_Price__c = 3.0,
                Adhesive_switch_P_S_Price__c = 23.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 39.0,
                Cable_CAN_Price__c = 5.0,
                CAN_GO_CLICK_Price__c = 99.0,
                Power_supply_power_cable_harnesses_Price__c = 13.0,
                Antenna_GPS_FLAT_Price__c = 39.0,
                Antenna_GPS_Shark_Price__c = 79.0,
                Spare_battery_for_CN85_1_4_Price__c = 65.0,
                Can_Bus_transducer_MCB_02_Price__c = 165.0,
                Microwave_sensor_Price__c = 279.0,
                Acoustic_signaling_with_LED_Price__c = 17.0,
                Button_Panic2_Price__c = 60.0,
                Siren_Alarm_Price__c = 33.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Not required',
                X1_m_cable_to_the_temperature_Amount__c = 17.0,
                X1_m_silicone_cable_temp_sensor_Amount__c = 16.0,
                Acoustic_signaling_with_LED_Amount__c = 3.0,
                Adhesive_switch_P_S_Amount__c = 13.0,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 12.0,
                Antenna_GPS_FLAT_Amount__c = 8.0,
                Antenna_GPS_Shark_Amount__c = 7.0,
                Basic_switch_Amount__c = 14.0,
                Button_Panic_Amount__c = 4.0,
                Button_Panic2_Amount__c = 2.0,
                Cable_CAN_Amount__c = 11.0,
                Calibrating_transducer_PT100_Amount__c = 21.0,
                Can_Bus_transducer_MCB_02_Amount__c = 5.0,
                CAN_GO_CLICK_Amount__c = 10.0,
                Dalas_chip_Amount__c = 26.0,
                Guarding_cargo_space_Amount__c = 35.0,
                Guarding_the_vehicle_one_switch_Amount__c = 5.0,
                Guarding_the_vehicle_reader_Amount__c = 3.0,
                Microwave_sensor_Amount__c = 4.0,
                Piezoelectric_siren_Amount__c = 23.0,
                Plastic_temperature_sensor_holder_Amount__c = 15.0,
                Power_supplyPower_cable_harnesses_Amount__c = 9.0,
                Reader_Dalas_Amount__c = 34.0,
                Reader_HIDProx_Amount__c = 30.0,
                Reader_Inditag_Amount__c = 32.0,
                Reader_Legic_Amount__c = 27.0,
                Reader_Mifare_Amount__c = 31.0,
                Reader_Multi_125_Amount__c = 29.0,
                Reader_Multi_ISO_Amount__c = 28.0,
                Reader_RFID_Slim_Amount__c = 33.0,
                RFID_adhesive_chip_Amount__c = 24.0,
                RFID_fobs_Amount__c = 25.0,
                Siren_Alarm_Amount__c = 1.0,
                Spare_battery_for_CN85_1_4_Amount__c = 6.0,
                Temperature_measurementCargoSpace_Amount__c = 22.0,
                Temperature_sensor_Dalas_Amount__c = 18.0,
                Temperature_sensor_Pt100A_Amount__c = 19.0,
                Temperature_sensor_Pt100B_Amount__c = 20.0);
        insert ddd;

        Additional_Hardware__c adx = new Additional_Hardware__c(
                CurrencyIsoCode = 'PLN',
                opportunity__c = o.Id,
                Guarding_the_vehicle_one_switch_Price__c = 1.0,
                Guarding_the_vehicle_reader_Price__c = 250.0,
                Button_Panic_Price__c = 10.0,
                Guarding_cargo_space_Price__c = 515.0,
                Reader_Dalas_Price__c = 35.0,
                Reader_RFID_Slim_Price__c = 259.0,
                Reader_Inditag_Price__c = 899.0,
                Reader_Mifare_Price__c = 599.0,
                Reader_Multi_125_Price__c = 599.0,
                Reader_HIDProx_Price__c = 749.0,
                Reader_Multi_ISO_Price__c = 719.0,
                Reader_Legic_Price__c = 879.0,
                Dalas_chip_Price__c = 13.0,
                RFID_fobs_Price__c = 9.0,
                RFID_adhesive_chip_Price__c = 8.0,
                Piezoelectric_siren_Price__c = 7.0,
                Temperature_measurementCargoSpace_Price__c = 295.0,
                Calibrating_transducer_PT100_Price__c = 199.0,
                Temperature_sensor_Pt100B_Price__c = 36.0,
                Temperature_sensor_Pt100A_Price__c = 39.0,
                Temperature_sensor_Dalas_Price__c = 75.0,
                X1_m_cable_to_the_temperature_Price__c = 3.0,
                X1_m_silicone_cable_temp_sensor_Price__c = 5.0,
                Plastic_temperature_sensor_holder_Price__c = 6.0,
                Basic_switch_Price__c = 3.0,
                Adhesive_switch_P_S_Price__c = 23.0,
                Adhesive_switch_P_S_with_diode_LED_Price__c = 39.0,
                Cable_CAN_Price__c = 5.0,
                CAN_GO_CLICK_Price__c = 99.0,
                Power_supply_power_cable_harnesses_Price__c = 13.0,
                Antenna_GPS_FLAT_Price__c = 39.0,
                Antenna_GPS_Shark_Price__c = 79.0,
                Spare_battery_for_CN85_1_4_Price__c = 65.0,
                Can_Bus_transducer_MCB_02_Price__c = 165.0,
                Microwave_sensor_Price__c = 279.0,
                Acoustic_signaling_with_LED_Price__c = 17.0,
                Button_Panic2_Price__c = 60.0,
                Siren_Alarm_Price__c = 33.0,
                Price_Book__c = pricebook2.Id,
                Account_Price_Book__c = account_price_book.Id,
                Pricing_Approval_Status__c = 'Approval Required',
                X1_m_cable_to_the_temperature_Amount__c = 1,
                X1_m_silicone_cable_temp_sensor_Amount__c = 1,
                Acoustic_signaling_with_LED_Amount__c = 1,
                Adhesive_switch_P_S_Amount__c = 1,
                Adhesive_switch_P_S_withDiode_LED_Amoun__c = 2,
                Antenna_GPS_FLAT_Amount__c = 2,
                Antenna_GPS_Shark_Amount__c = 2,
                Basic_switch_Amount__c = 2,
                Button_Panic_Amount__c = 1.0,
                Button_Panic2_Amount__c = 2,
                Cable_CAN_Amount__c = 2,
                Calibrating_transducer_PT100_Amount__c = 2,
                Can_Bus_transducer_MCB_02_Amount__c = 2,
                CAN_GO_CLICK_Amount__c = 2,
                Dalas_chip_Amount__c = 2,
                Guarding_cargo_space_Amount__c = 1.0,
                Guarding_the_vehicle_one_switch_Amount__c = 1.0,
                Guarding_the_vehicle_reader_Amount__c = 1.0,
                Microwave_sensor_Amount__c = 2,
                Piezoelectric_siren_Amount__c = 3,
                Plastic_temperature_sensor_holder_Amount__c = 5,
                Power_supplyPower_cable_harnesses_Amount__c = 5,
                Reader_Dalas_Amount__c = 5,
                Reader_HIDProx_Amount__c = 5,
                Reader_Inditag_Amount__c = 8,
                Reader_Legic_Amount__c = 8,
                Reader_Mifare_Amount__c = 8,
                Reader_Multi_125_Amount__c = 8,
                Reader_Multi_ISO_Amount__c = 8,
                Reader_RFID_Slim_Amount__c = 8,
                RFID_adhesive_chip_Amount__c = 8,
                RFID_fobs_Amount__c = 8,
                Siren_Alarm_Amount__c = 7,
                Spare_battery_for_CN85_1_4_Amount__c = 7,
                Temperature_measurementCargoSpace_Amount__c =7,
                Temperature_sensor_Dalas_Amount__c = 7,
                Temperature_sensor_Pt100A_Amount__c = 7,
                Temperature_sensor_Pt100B_Amount__c = 7);
        insert adx;


        test.startTest();


        Apexpages.currentPage().getParameters().put('id',o.Id);
        CreateCommercialProposalCarnetController ccd = new CreateCommercialProposalCarnetController();
        ccd.init();
    }
}