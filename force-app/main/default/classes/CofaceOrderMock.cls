global class CofaceOrderMock implements HttpCalloutMock {
    global HttpResponse respond(HTTPRequest req) {
  		String requestType = '';
  		if (req.getBody().contains('<web:searchByIdentifier>')) {
            requestType = 'search';
        } else if (req.getBody().contains('<web:submitOrder>')) {
            requestType = 'order';
        } else if (req.getBody().contains('<web:getCompanyDetails>')) {
        	requestType = 'availability';
        }

	  	Map<String, String> requestBodyMap = new Map<String, String>();
	    	requestBodyMap.put('search', '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><searchByIdentifierResponse xmlns="http://www.iconx.biz/webservices"><searchByIdentifierResult><ResponseCode>NotFound</ResponseCode><ResponseText>No company found</ResponseText></searchByIdentifierResult></searchByIdentifierResponse></soap:Body></soap:Envelope>');
	    	requestBodyMap.put('order', '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><submitOrderResponse xmlns="http://www.iconx.biz/webservices"><submitOrderResult><ResponseCode>OK</ResponseCode><ResponseText>OK</ResponseText><OrderStatus xsi:type="Report" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ProviderOrderReference>1439777</ProviderOrderReference><ProductCode>200</ProductCode><Provider><PartyID>CIC_HU</PartyID><Name>Coface Hungary Credit Management Services Kft.</Name><ContactInformation><Country>HU</Country><City>Budapest</City></ContactInformation><Email>orders-hungary@coface.com</Email><WebAddress>http://www.coface.hu</WebAddress></Provider><Consumer><Name>FleetCor Hungary Korlátolt Felelősségű Társaság</Name><ContactInformation><Country>HU</Country><City>Budapest</City></ContactInformation></Consumer><OriginalRequest><Name/><PrincipalAddress><ZipCode/><AddressItem1/></PrincipalAddress><DateOfValidity>0001-01-01T00:00:00.0+01:00</DateOfValidity><DateOfLastUpdate>0001-01-01T00:00:00.0+01:00</DateOfLastUpdate><DateOfLastBalanceSheet>0001-01-01T00:00:00.0+01:00</DateOfLastBalanceSheet></OriginalRequest><Company><Name>M-SÉTÁNY Kereskedelmi, Szolgáltató és Vendéglátó Korlátolt Felelősségű Társaság</Name><SortName>M-SÉTÁNY Kft.</SortName><InternalID>81466010</InternalID><RegistrationCountry>HU</RegistrationCountry><PrincipalAddress><Country>HU</Country><ZipCode>1075</ZipCode><City>Budapest</City><AddressItem1>Madách tér 2</AddressItem1></PrincipalAddress><RegisteredAddress/><LegalForm><LegalFormCode>300</LegalFormCode><LegalFormText>Limited Liability Company</LegalFormText></LegalForm><Identifiers><CompanyIdentifier><Type>0</Type><Description>NationalID</Description><Identifier>14066436</Identifier></CompanyIdentifier><CompanyIdentifier><Type>1</Type><Description>Registration Number</Description><Identifier>0109887350</Identifier></CompanyIdentifier><CompanyIdentifier><Type>2</Type><Description>Easy Number</Description><Identifier>00003920378127</Identifier></CompanyIdentifier><CompanyIdentifier><Type>100</Type><Description>Tax number</Description><Identifier>14066436-2-42</Identifier></CompanyIdentifier><CompanyIdentifier><Type>120</Type><Description>VAT number</Description><Identifier>14066436-2-42</Identifier></CompanyIdentifier></Identifiers><Activities><Activity><Code>5610</Code><Type>NACE</Type><CodeDescription>Restaurants and mobile food service activities</CodeDescription></Activity></Activities><DateOfValidity>0001-01-01T00:00:00.0+01:00</DateOfValidity><DateOfLastUpdate>0001-01-01T00:00:00.0+01:00</DateOfLastUpdate><DateOfLastBalanceSheet>2011-12-31T00:00:00.000+01:00</DateOfLastBalanceSheet><EasyNumber>00003920378127</EasyNumber></Company><ReportLanguage>EN</ReportLanguage><StatusCode>Received</StatusCode><Ordered>2018-06-29T10:28:18.000+02:00</Ordered><RequestedDelivery>2018-07-09T08:58:00.000+02:00</RequestedDelivery><Delivered>0001-01-01T00:00:00.0+01:00</Delivered><MaximumCreditRecommendationAmount>-1.0</MaximumCreditRecommendationAmount><CompanyRegistrationDate>0001-01-01T00:00:00.0+01:00</CompanyRegistrationDate><ReportMimeType>text/xml</ReportMimeType></OrderStatus></submitOrderResult></submitOrderResponse></soap:Body></soap:Envelope>');
	    	requestBodyMap.put('availability', '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getCompanyDetailsResponse xmlns="http://www.iconx.biz/webservices"><getCompanyDetailsResult><ResponseCode>OK</ResponseCode><ResponseText>OK</ResponseText><CompanyDetails><Company><Name>M-SÉTÁNY Kereskedelmi, Szolgáltató és Vendéglátó Korlátolt Felelősségű Társaság</Name><SortName>M-SÉTÁNY Kft.</SortName><InternalID>81466010</InternalID><RegistrationCountry>HU</RegistrationCountry><PrincipalAddress><Country>HU</Country><ZipCode>1073</ZipCode><City>Budapest</City><AddressItem1>Akácfa utca 51.</AddressItem1></PrincipalAddress><RegisteredAddress/><LegalForm><LegalFormCode>300</LegalFormCode><LegalFormText>Limited Liability Company</LegalFormText></LegalForm><Identifiers><CompanyIdentifier><Type>0</Type><Description>NationalID</Description><Identifier>14066436</Identifier></CompanyIdentifier><CompanyIdentifier><Type>1</Type><Description>Registration Number</Description><Identifier>0109887350</Identifier></CompanyIdentifier><CompanyIdentifier><Type>2</Type><Description>Easy Number</Description><Identifier>00003920378127</Identifier></CompanyIdentifier><CompanyIdentifier><Type>120</Type><Description>VAT number</Description><Identifier>14066436-2-42</Identifier></CompanyIdentifier></Identifiers><Activities><Activity><Code>5610</Code><Type>NACE</Type><CodeDescription>Restaurants and mobile food service activities</CodeDescription></Activity></Activities><DateOfValidity>2018-06-29T00:00:00.000+02:00</DateOfValidity><DateOfLastUpdate>2018-06-29T00:00:00.000+02:00</DateOfLastUpdate><DateOfLastBalanceSheet>2017-12-31T00:00:00.000+01:00</DateOfLastBalanceSheet><EasyNumber>00003920378127</EasyNumber></Company><AvailableProducts><Product><Code>200</Code><Description>CREDIT REPORT</Description><Availability>AvailableOnOrder</Availability></Product><Product><Code>5000</Code><Description>Portfolio Watch</Description><Availability>AvailableImmediately</Availability></Product></AvailableProducts></CompanyDetails></getCompanyDetailsResult></getCompanyDetailsResponse></soap:Body></soap:Envelope>');
	    HttpResponse response = new HttpResponse();
	    response.setStatus('OK');
	    response.setStatusCode(200);
	    response.setBody(requestBodyMap.get(requestType));
	    return response;
  	}
}