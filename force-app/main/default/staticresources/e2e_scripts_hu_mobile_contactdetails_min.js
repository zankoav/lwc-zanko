$j=jQuery.noConflict();var chatActivityTimeout,chatOfflineUpdateTimeout,chatOfflineOLDText,chatDeviceHeight,autoChatLastStep,isPrivateEntity,regs={phone:/^([0-9+]{11,12})+$/,numbers:/^[0-9]+$/,taxid:/^([0-9]{8}[-]{1}[1-5]{1}[-]{1}[0-9]{2})+$/,letters:/^[a-zA-ZÀ-ž\x7f-\xff\s'-]+$/,lettersAndNumbers:/^[0-9a-zA-ZÀ-ž\x7f-\xff\s'&.,-]+$/,embossingLetters:/^[a-zA-Z\s]+$/,embossingLettersAndNumbers:/^[0-9a-zA-Z\s]+$/,email:/^\w+([.-]\w+)*@\w+([.-]\w+)*(\.\w{2,4})+$/,carNumberFormat_NL:/^[A-Za-z0-9]{1,2}-[A-Za-z0-9]{2,3}-[A-Za-z0-9]{1,2}/,swiftFormat:/^[A-Za-z]{4}[A-Za-z]{2}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/,ibanFormat_NL:/^[Nn]{1}[Ll]{1}[0-9]{2}[A-Za-z]{4}[0-9]{10}?$/,vatIdFormat_NL:/^([Nn]{1}[Ll]{1}[0-9]{9}[Bb]{1}[0-9]{2})+$/,dateOfBirth:/^[0-9]{2}[.]{1}[0-9]{2}[.]{1}[0-9]{4}?$/},minPumpValue=75,maxPumpValue=5e4,dataSource="eurolocator.fleetcor.hu",favStationInfo="",errors={0:"ZERO_SEARCH_RESULTS"},invalidMessageEvents={0:"hide",1:"show"},disableScroll=!1,scrollPos=0;function scrollDisableControl(e){"disable"==e?(document.body.style.overflow="hidden",disableScroll=!0,scrollPos=$j(window).scrollTop()):"enable"==e&&(document.body.style.overflow="auto",disableScroll=!1)}function setupScrollInModal(){$j(".modalWindows").bind("DOMSubtreeModified",function(){0<document.getElementsByClassName("modal-info").length?(document.body.style.overflow="hidden",disableScroll=!0,scrollPos=$j(window).scrollTop()):(document.body.style.overflow="auto",disableScroll=!1)}),$j(window).bind("scroll",function(e){disableScroll&&$j(window).scrollTop(scrollPos);var t=window.scrollY;document.getElementById("chatOfflineBlock").style.top=t+"px",document.getElementById("chatOnlineBlock").style.top=t+"px"}),$j(window).bind("touchmove",function(){$j(window).trigger("scroll")}),$j(window).resize(function(){})}function goToActiveViewport(e,t){toViewport(0==e&&"Get started"==activeSubstep?"get-started-viewport":1!=e||"Enter Tax ID"!=t&&"Set total consumption"!=t?2==e&&"Additional services"==t?"additional-viewport":5==e&&"Congratulations"==t?"configuration-viewport":"order-details-viewport":"your-company-viewport")}function setEvents_contactDetails(){var t=$j(".step-content").find(".contact-details"),n=t.find(".form-check-input.phoneContact"),i=t.find(".form-check-input.infoByEmail"),a=t.find(".form-control.required");$j(t).find("input:text").each(function(){checkInputNotEmpty($j(this)),0<=$j(this).attr("id").indexOf("phone")&&$j(this).attr("type","tel"),""!=$j(this).val()&&null!=$j(this).val()&&(0<=$j(this).attr("id").indexOf("firstName")||0<=$j(this).attr("id").indexOf("lastName")?isInputValueValid($j(this),new RegExp(regs.letters)):0<=$j(this).attr("id").indexOf("phone")?isInputValueValid($j(this),new RegExp(regs.phone)):0<=$j(this).attr("id").indexOf("email")&&isInputValueValid($j(this),new RegExp(regs.email)))}),checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0),a.each(function(){0<=$j(this).attr("id").indexOf("firstName")?$j(this).on("input",function(e){isInputValueValid($j(this),new RegExp(regs.letters)),checkInputNotEmpty($j(this)),checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0)}):0<=$j(this).attr("id").indexOf("lastName")?$j(this).on("input",function(e){isInputValueValid($j(this),new RegExp(regs.letters)),checkInputNotEmpty($j(this)),checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0)}):0<=$j(this).attr("id").indexOf("phone")?$j(this).on("input",function(e){isInputValueValid($j(this),new RegExp(regs.phone)),checkInputNotEmpty($j(this)),checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0)}):0<=$j(this).attr("id").indexOf("email")?$j(this).on("input",function(e){isInputValueValid($j(this),new RegExp(regs.email)),checkInputNotEmpty($j(this)),checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0)}):0<=$j(this).attr("id").indexOf("numberofcardscontactdetails")&&($j(this).on("input",function(e){50<$j(this).val()?$j(this).val(50):$j(this).val()<0&&$j(this).val(1)}),$j(this).on("blur",function(e){null!=$j(this).val()&&null!=$j(this).val()&&0!=$j(this).val()||$j(this).val("1")}))}),n.on("click",function(){checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0)}),i.on("click",function(){checkRequiredFieldsAndToggleButton(a,t.find(".btn-red")),n.is(":checked")&&i.is(":checked")||t.find(".btn-red").attr("disabled",!0)})}function showOrHideInvalidMessage(e,t,n){e===invalidMessageEvents[0]&&(t.closest(".form-group input").addClass("success"),t.closest(".form-group input").removeClass("error"),t.closest(".form-group").find(".input-label").removeClass("invalid"),t.closest(".form-group .f-container").removeClass("error"),n.hide(),t.closest(".form-group").find(".additional").show()),e===invalidMessageEvents[1]&&(t.closest(".form-group input").removeClass("success"),t.closest(".form-group input").addClass("error"),t.closest(".form-group").find(".input-label").addClass("invalid"),t.closest(".form-group .f-container").addClass("error"),n.show(),t.closest(".form-group").find(".additional").hide())}function isInputValueValid(e,t){var n=e.val(),i=e.closest(".form-group").find(".invalid-feedback");return""!=n.trim()&&t.test(n)?(showOrHideInvalidMessage(invalidMessageEvents[0],e,i),!0):(showOrHideInvalidMessage(invalidMessageEvents[1],e,i),!1)}function checkInputNotEmpty(e){""!=e.val()&&null!=e.val()?e.addClass("not-empty"):e.removeClass("not-empty")}function checkRequiredFieldsAndToggleButtonForBtnAsLink(e,t){var n=!1,i=!1;e.each(function(){""==$j(this).val()&&(n=!0),$j(this).hasClass("error")&&(i=!0)}),n||i?t.addClass("disabled"):t.removeClass("disabled")}function checkRequiredFieldsAndToggleButton(e,t){var n=!1,i=!1;e.each(function(){""==$j(this).val()&&(n=!0),$j(this).hasClass("error")&&(i=!0)}),n||i?t.attr("disabled",!0):t.attr("disabled",!1)}function isRadioButtonSelected(e){var t=!1;return e.each(function(){$j(this).is(":checked")&&(t=!0)}),t}function isSwitchChecked(e){var t=!1;return e.each(function(){$j(this).is(":checked")&&(t=!0)}),t}function validateContactDetails(e){var t,n=$j(".step-content .contact-details"),i=n.find(".first-name").find("input"),a=n.find(".last-name").find("input"),o=n.find(".phone").find("input"),l=n.find(".email").find("input"),s=[];s.push(isInputValueValid(i,new RegExp(regs.letters))),s.push(isInputValueValid(a,new RegExp(regs.letters))),s.push(isInputValueValid(o,new RegExp(regs.phone))),s.push(isInputValueValid(l,new RegExp(regs.email))),t=!s.includes(!1);var c=n.find('input[type="checkbox"]').is(":checked"),d=n.find(".btn-red").is("[disabled=disabled]");return!(!t||d||!c)&&(e&&mGoToCreditScoring(),!0)}function createSlider(e,n,i,t,a,o){"function"==typeof $j("#"+e).slider&&($j("#"+e).slider({range:!1,min:a,max:o,values:[t],step:1e4,slide:function(e,t){$j("[id$="+i+"]").val(t.values[0]),$j("[id$="+n+"]").text(t.values[0]),colorSliderActiveLine()},stop:function(e,t){recalculateDeposit(),colorSliderActiveLine()}}),$j('[id$=" + dispOutput + "]').text(t))}function colorSliderActiveLine(){var e;null!=$j("#slider").find(".ui-slider-handle")[0]&&(e=parseInt($j("#slider").find(".ui-slider-handle")[0].style.left.split("%")[0]),$j("#slider").find(".slider-active-line")[0].style.width=e+"%")}function checkCounterValue(e){setTimeout(function(){e.val()<0&&e.val(0),50<e.val()&&e.val(50)},100)}function checkPumpValue(e){setTimeout(function(){e.val()>maxPumpValue&&e.val(maxPumpValue)},100)}function changeLink(e){var t=$j(e).closest(".config");return t.closest(".config-list").find(".config.active").removeClass("active"),t.addClass("active"),!1}function enableDisableContinueButton(){0==$j(".cards-tech-parameters .cards-list .btn-done:disabled").length?$j(".cards-tech-parameters .btn.continue").removeAttr("disabled"):$j(".cards-tech-parameters .btn.continue").attr("disabled",!0)}function onPageLoad(){createSlider("slider","creditLimitInput","idInputHidden",100,100,600),0==$j("#slider").find(".slider-active-line").length&&$j("#slider").append('<div class="slider-active-line" style="width:0%"></div>'),$j(".b-switch-block").each(function(){$j(this).find(".onoffswitch .onoffswitch-checkbox").is(":checked")||$j(this).css("background","#f6f6f6")}),$j(".onoffswitch .onoffswitch-checkbox").on("click",function(){var e=$j(this).parents().closest(".b-switch-block");$j(this).is(":checked")?(e.css("background","#cecece"),e.find(".onoffswitch-switch").css({margin:"8px",background:"#ffffff"})):(e.css("background","#f6f6f6"),e.find(".onoffswitch-switch").css({margin:"8px",background:"#cecece"}))}),$j(".collapse-block .link").on("click",function(){var e=$j(this).parent().find(".row"),t=$j(this).find(".expander");e.is(":hidden")?t.removeClass("block-expand").addClass("block-collapse"):t.removeClass("block-collapse").addClass("block-expand")})}function onPageRender(){$j('[data-toggle="popover"]').popover({html:!0,animation:!1,title:'<a href="#" style="color: grey;font-size: 25px;line-height: 20px;" data-dismiss="alert">&times;</a>'}),$j("[data-toggle=popover]").on("shown.bs.popover",function(){$j(".popover .arrow").css("left",$j(this).offset().left+7),$j(".popover").css("width",$j(window).width()),$j(".popover .popover-content").css("width",$j(window).width()),$j(".popover").css("left","0")}),scrollToTopEvent()}function setChatOptions(){setupChatInit(),$j(document).on("keydown click",function(){resetInActive()}),resetInActive(),document.getElementById("liveAgentChatTextArea").onkeydown=function(e){if(13==e.keyCode)return updateOfflineChat(),!1};$j(".modal-open").bind("DOMSubtreeModified",function(){for(var e=document.getElementsByTagName("form"),t=0;t<e.length;t++)"frameChat"==e[t].target&&-1!=e[t].action.toString().indexOf("language%3D%23")&&(e[t].action=e[t].action.replace("language%3D","language%3DHungary"))}),screen.width<1199?($j("#liveAgentChatLog").height(.5*screen.height-160),$j(".chat-box").height(.5*screen.height-25)):($j(".liveAgentSendButton").hide(),$j("#liveAgentChatTextArea").focus(function(e){$j(".liveAgentSendButton").is(":visible")||($j("#liveAgentChatLog").height($j("#liveAgentChatLog").height()-20),$j("#liveAgentChatTextArea").height($j("#liveAgentChatTextArea").height()+15),$j(".liveAgentSendButton").show())}),$j("#liveAgentChatTextArea").focusout(function(e){$j(e.relatedTarget).hasClass("liveAgentSendButton")?$j(".liveAgentSendButton").show():($j("#liveAgentChatLog").height($j("#liveAgentChatLog").height()+20),$j("#liveAgentChatTextArea").height($j("#liveAgentChatTextArea").height()-15),$j(".liveAgentSendButton").hide())})),$j(".liveAgentSendButton").mousedown(function(){return!1})}function setupChatInitialization(e,t,n,i,a,o,l,s,c,d,r){"0"==c.toString()&&(document.getElementById("chat-button-online").style.visibility="hidden",document.getElementById("chat-button-offline").style.visibility="hidden"),liveagent.disconnect(),""!=o&&(liveagent.addCustomDetail("OpportunityID",o,!1).saveToTranscript("Opportunity__c"),liveagent.findOrCreate("Opportunity").map("ID","OpportunityID",!0,!0,!0).saveToTranscript("OpportunityId").showOnCreate(),liveagent.addCustomDetail("AccountID",l,!1).saveToTranscript("AccountID"),liveagent.findOrCreate("Account").map("ID","AccountID",!0,!0,!0).saveToTranscript("AccountId").showOnCreate()),""!=a&&(liveagent.addCustomDetail("ContactID",a,!1).saveToTranscript("ContactID"),liveagent.findOrCreate("Contact").map("ID","ContactID",!0,!0,!0).saveToTranscript("ContactId").showOnCreate()),liveagent.setName(s),liveagent.addCustomDetail("Step",c+" "+d,!1).saveToTranscript("E2E_Step__c"),liveagent.addCustomDetail("Mode of initialization",r,!1).saveToTranscript("Mode_of_initialization__c"),liveagent.addCustomDetail("Type of chat","online",!1).saveToTranscript("Type__c");liveagent.addCustomDetail("Chat country","Hungary",!1).saveToTranscript("Country__c"),liveagent.init(e,t,n),""!=i&&(window._laq||(window._laq=[]),window._laq.push(function(){liveagent.showWhenOnline(i,document.getElementById("chat-button-online")),liveagent.showWhenOffline(i,document.getElementById("chat-button-offline"))}))}function startOnlineChat(e,t,n,i,a,o,l,s,c,d,r,u){"automatical"==u?autoChatLastStep!=r&&(autoChatLastStep=r,delete liveagent,delete liveAgentDeployment,jQuery.loadScript(n,function(){executeOnlineChat(e,t,i,a,o,l,s,c,d,r,u)})):(delete liveagent,delete liveAgentDeployment,jQuery.loadScript(n,function(){executeOnlineChat(e,t,i,a,o,l,s,c,d,r,u)}))}function executeOnlineChat(e,t,n,i,a,o,l,s,c,d,r){var u;(null!=(u=document.getElementById("frameChat"))&&u.remove(),null==document.getElementById("frameChat")&&"none"!=document.getElementById("chat-button-online").style.display)&&(document.getElementById("chat-button-offline").style.visibility="hidden",document.getElementById("chat-button-online").style.visibility="hidden",setupChatInitialization(e,t,n,"",a,o,l,s,c,d,r),(u=document.createElement("iframe")).id="frameChat",u.name="frameChat",u.classList.add("frameChat"),document.getElementById("chatOnlineBlock").appendChild(u),setTimeout(function(){try{liveagent.startChatWithWindow(i,"frameChat"),document.getElementById("chatOnlineBlock").classList.add("popup-on"),executeSetOpportunityFlagChat(r)}catch(e){document.getElementById("chat-button-offline").style.visibility="visible",document.getElementById("chat-button-online").style.visibility="visible",document.getElementById("chatOnlineBlock").classList.remove("popup-on"),document.getElementById("frameChat").remove();for(var t=document.getElementsByTagName("form"),n=0;n<t.length;n++)"frameChat"==t[n].target&&t[n].remove()}},800))}function resetInActive(){clearTimeout(chatActivityTimeout),chatActivityTimeout=setTimeout(inActive,6e4)}function inActive(){var e=document.getElementById("chat-button-online");"none"!=e.style.display&&"hidden"!=e.style.visibility&&(null!=document.getElementById("frameChat")||$j("#chatOfflineBlock").hasClass("popup-on")||setupOnlineAutoChat());resetInActive()}function setupOfflineChat(){document.getElementById("chat-button-offline").style.visibility="hidden",document.getElementById("chat-button-online").style.visibility="hidden";var e=document.getElementById("liveAgentChatLog");document.getElementById("chatOfflineBlock").classList.add("popup-on"),e.scrollTop=e.scrollHeight,chatOfflineOLDText="",chatOfflineUpdateTimeout=setTimeout(updateDatabaseOfflineChat,5e3)}function updateOfflineChat(){var e=document.getElementById("liveAgentChatTextArea");if(""!=e.value){var t=document.getElementById("liveAgentChatLogText"),n=new Date,i=n.getHours(),a=n.getMinutes(),o=12<=i?"PM":"AM",l=(i=(i%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+o;t.innerHTML=t.innerHTML+'<span class="chat-client"> <span class="chat-name"> <strong>You </strong><span class="chat-customDateTime" style="display: inline"> '+l+' </span> </span> <span class="chat-messageText">'+e.value+"</span> <span>",e.value=""}(t=document.getElementById("liveAgentChatLog")).scrollTop=t.scrollHeight}function updateDatabaseOfflineChat(){var e=$j(".liveAgentChatLogText").html().split('<span class="chat-operator">').join('<br><span class="chat-operator">').split('<span class="chat-client">').join('<br><span class="chat-client">');e!=chatOfflineOLDText&&(chatOfflineOLDText=e,executeSaveOfflineChat(e),executeSetOpportunityFlagChat("manual")),clearTimeout(chatOfflineUpdateTimeout),chatOfflineUpdateTimeout=setTimeout(updateDatabaseOfflineChat,5e3)}function closeChat(e){if("online"==e){document.getElementById("chatOnlineBlock").classList.remove("popup-on"),document.getElementById("frameChat").contentWindow.postMessage("closeChatFLEETCOR","*");for(var t=document.getElementsByTagName("form"),n=0;n<t.length;n++)"frameChat"==t[n].target&&t[n].remove()}else"offline"==e&&document.getElementById("chatOfflineBlock").classList.remove("popup-on");document.getElementById("chat-button-offline").style.visibility="visible",document.getElementById("chat-button-online").style.visibility="visible",resetInActive()}function scrollToTopEvent(){$j("#top, #order").click(function(){return $j("body, html").animate({scrollTop:0},800),!1})}function toViewport(e){document.querySelector("#"+e).scrollIntoView()}function startSplash(){document.getElementById("splashDiv").style.display="table-cell",$j(".lightbox").fadeIn(50)}function endSplash(){document.getElementById("splashDiv").style.display="none",$j(".lightbox").fadeOut(50)}function getAllUrlParams(e){var t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t)for(var i=(t=t.split("#")[0]).split("&"),a=0;a<i.length;a++){var o=i[a].split("="),l=void 0,s=o[0].replace(/\[\d*\]/,function(e){return l=e.slice(1,-1),""}),c=void 0===o[1]||o[1];n[s]?("string"==typeof n[s]&&(n[s]=[n[s]]),void 0===l?n[s].push(c):n[s][l]=c):n[s]=c}return n}$j(document).ready(function(){lazyLoadScripts(),onPageLoad(),onPageRender();$j(".step-content");isPrivateEntity=!1,viewportInit(),setEvents_contactDetails(),setChatOptions(),setupScrollInModal()}),jQuery.loadScript=function(e,t){jQuery.ajax({url:e,dataType:"script",success:t,async:!0})};